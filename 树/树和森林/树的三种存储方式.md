---
date: 2025-04-16
author: Fang
---
# 学习目标
- [ ] 理解并掌握树的三种常用存储结构（双亲表示法、孩子链表表示法、孩子兄弟表示法）的基本原理、结构定义及优缺点
- [ ] 理解孩子兄弟表示法与二叉树结构之间的对应关系，为实现树与二叉树（森林）之间的转换打下基础
# 树的存储结构与实现方式
在前面我们讨论了二叉树的两种存储方式（顺序存储和链式存储），并介绍了元素在结构中的存放及遍历过程 
我们知道，**二叉树是一种有序树，结构中已明确表示了各结点之间的关系**；但对于**一般的无序树（多叉树）**，我们如何存储和表示其元素之间的结构关系呢？
下面介绍几种常见的树的存储方式及其实现
## 双亲表示法
### 实现思想
- 定义结构数组用来存放书的结点，每个结点包含两个域：数据域和双亲域
- 数据域用来存放深数据本身；双亲域指示结点的双亲结点在数组中的位置

| `数组下标` | `data` | `parent` |
| ------ | ------ | -------- |
| 0      | R      | -1       |
| 1      | A      | 0        |
| 2      | B      | 0        |
| 3      | C      | 0        |
| 4      | D      | 1        |
| 5      | E      | 1        |
| 6      | F      | 3        |
| 7      | G      | 6        |
| 8      | H      | 6        |
| 9      | K      | 6        |
### C语言描述
```C
typedef struct PTNode{
	TElemType data;
	int parent;
}PTNode;
typedef struct{
	typedef nodes[MAXSIZE];
	//两个整形结构,指示根结点位置和结点个数,相当于线性表中的Length
	int r,n;
}
```
### 优缺点
- 优点：通过 `parent` 字段，**查找双亲快速便捷**；
- 缺点：**查找子结点需遍历所有结点**，效率低。
总结：**找双亲容易，找孩子难**
## 孩子链表表示法
### 实现思想
- 每个结点的所有孩子组织成一个**单链表**；
- 所有结点对应的孩子链表的**头指针数组**使用顺序结构存储
有这样一棵树：
```txt
         R
      /  |  \
     A   B   C
    / \      |
   D   E     F
	        / \
	        G  H 
```
则它的存储方式如下：
![[Pasted image 20250416230252.png]]
### C语言描述
孩子结点结构：
```C
typedef struct CTNode{
	int child;
	struct CTNode *next;
}*ChildPtr;
```
双亲结点结构：
```C
typedef struct{
	TElemType data;
	ChildPtr firstchild; //孩子链表头指针
}CTBox;
```
树结构：
```C
typedef struct{
	CTBox nodes[MAXSIZE];
	//结点树和根结点位置
	int n,r;
}CTree;
```
### 优缺点
- 与双亲表示法相反：**找孩子结点容易，找双亲结点难**
- 在孩子链表表示法的基础上，我们给每个双亲结点增加一个数据，来指示双亲结点的位置，解决了缺点，这种表示法也叫做：**带双亲的孩子链表**
## 孩子兄弟表示法（二叉链表表示法）
### 实现思想
使用**二叉链表结构**，每个结点有两个指针域：
- `firstchild`：指向**第一个孩子**
- `nextbro`：指向**下一个兄弟**
有这样一棵树：
```txt
         R
      /  |  \
     A   B   C
    / \      |
   D   E     F
	       / | \
	      G  H  K
```
用孩子兄弟存储法表示后：
```txt
       [← R ^]
       /      
  [← A ^]    
    /    \     
[^ D →]  [^ B →]
	\        \
  [^ E ^]   [← C ^]
			  /
		  [← F ^]
			/
		[^ G →]
			\
		  [^ H →]
		     \
		   [^ K ^]	    
```
看起来有点抽象，其实你将头向右倾斜45度观察，就能发现变化后的数结构与之前十分相似（兄弟结点都在同一条倾斜的45度线上），只是将指针的指向改变了
### C语言描述
```C
typedef struct CSNode{
	ElemType data;
	struct CSNode *firstchild,*nextbro
}CSNode,*CSTree;
```
### 优点：
- 将树的多叉结构用二叉链表的方式表示出来，这与二叉树的结构很相似，方便了树与二叉树的转换