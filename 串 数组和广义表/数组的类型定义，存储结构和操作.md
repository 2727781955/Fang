---
date: 2025-03-14
author: Fang
tags:
  - 数组
  - 数据结构
  - 存储结构
  - 矩阵压缩
  - 多维数组
---
# 数组的类型定义
## 数组的属性
- 数组是按一定格式排列起来的，具有**相同元素**类型的数据元素的集合
- 一维数组：若线性表中的数据元素为非结构的简单元素，则称为一维数组
	声明格式：`数据类型 变量名称[长度]` 例如：`int num[5] = {0,1,2,3,4,5}`
- 二维数组：若一维数组中的数据元素又是一维数组结构，则称它为二维数组
	声明格式：`数据类型 变量名称[行数][列数]` 例如：`int num[3][3] = {{1,1,1},{2,2,2},{3,3,3}}`
- 二维数组的逻辑结构：
	- 线性结构：每个数据元素是一个定长的线性表
	- 非线性定长的线性表结构：每个数据元素即在一个行表中，又在一个列表中 
## 数组的特点
- 结构固定，一个数组定义后，维数和维界都不再改变
- 除了结构的初始化和销毁之外，一般只有取元素和修改元素的操作，不做插入和删除操作
- 对于一维数组的类型定义，和一般线性表类似，每个元素也只有一个直接前驱和直接后继。
- 对于多维数组，因为多维度的关系，就不只有一个直接前驱和直接后继。比如二维数组，有两个直接前驱和后继。

# 存储结构
因为数组的元素个数是确定的，因此很少采用链式结构，都采用顺序结构。虽然数组可以是多维度的，但是存储数据的内存单元是一维的。因此，在多维数组存储结构之前，需要解决**将多为关系映射到一维关系**的问题。
## 顺序存储结构

### 一维数组
- 有数组定义 `int a[5]`，每个元素占有四个字节，假设`a[0]`存储在第2000单元中，`a[3]`的地址是多少？
	`a[0] 2000` ->`a[1] 2004`->`a[2] 2008`->`a[3] 2012`
	`LOC(i) = LOC(i-1)+L = a+i*L  (i>0)`
	可以看到，一维数组和线性表存储方式一样，都是放在连续的存储空间中，每个元素占有的空间相等。
### 二维数组
- 可以看成是由若干个一维数组构成的；每一行都可以看作一维数组，每一列也都可以看作一维数组
- 用一维的存储单元来存放多维的数组，就要有约定的次序问题，有一个二维数组`a[n][m]`
	- 以行序为主：`LOC(i,j) = LOC(0,0) + (n*i+j)*L`
	- 以列序为主：`LOC(i,j) = LOC(0,0) + (m*j+i)*L`

# 操作

## 特殊矩阵的压缩存储
### 矩阵的存储
- 矩阵，就是一个由`m*n`个元素排成的`m`行`n`列的表；
- 为了矩阵的常规存储，我们将它描述为一个二维数组；
- 矩阵常规存储的特点：
	- 可以对其元素进行随机存取；
	- 矩阵运算非常简单；
	- 存储密度为一；
- 不宜常规存储的矩阵：值相同的元素很多，且呈某种规律分布，零元素多，为了提高存储效率，我们引出了压缩存储
### 压缩存储的特点
1. 什么是压缩存储：多个元素值相同，且只分配一个元素值得存储空间，且零元素不占存储空间；
2. 什么样的矩阵可以压缩存储：对称矩阵，对角矩阵，三角矩阵，稀疏矩阵

### 压缩存储的实现
-  对称矩阵：只存储上（或下）三角的数据元素，共占用`n(n+1)/2`个元素空间
	1. 以行序为主序将元素存放在一维数组`b[n(n+1)/2]`中
	2. 其中`b[k] = a[i][j] k=i*n-i(i+1)/2+j`
- 三角矩阵：只存储上（或下）三角的数据元素，对于另一半三角的相同元素，另外存储
	1. 以行序列为主序将元素存放在一维数组`b[n(n+1)/2+1]`中
	2. 其中`b[k] = a[i][j] k=(i-1)*(2n-i+2)/2+j-i+1`
- 带状矩阵：只存对角线附近的元素，其余为零的元素不存储
	1. 以行序为主序，用一维数组`b[n*(2k+1)] k为带宽`存储所有非零元素，并映射到二维矩阵索引
	2. 将`b`转换成二维数组，其中`b[i][j] = b[i*(2k+1)+(j-i+k)]`
- 稀疏矩阵：
	1. 三元组法：仅存储非零元素值及其行索引，列索引，使用一个`3*t`的二维数组记录，其中`t`是非零元素的个数
	2. 压缩稀疏行：使用三个一维数组：`values[]`存储所有非零元素，`colIndex[]`存储对应列号，`rowPtr[]`存储每一行第一个非零元素在`values[]`的索引
	3. 十字链表法：使用链式存储，每个非零元素用一个结点进行存储，并且每个结点同时连接其所在行和列，每个结点存储：
		- 所在行，所在列
		- 该元素的值
		- 同一行的下一个非零元素的地址
		- 同一列的下一个非零元素的地址
对于这些操作，我们在以后的案例实现中来进行讲解